/**
 * Copyright Sung-tae Ryu. All rights reserved.
 * Code licensed under the GPL v2 License:
 * http://www.goorm.org/License
 **/org.goorm.core.dialog=function(){this.panel=null,this.container_id=null,this.context_menu=null,this.path=null,this.title=null,this.type=null,this.left=null,this.top=null,this.width=null,this.height=null,this.yes=null,this.no=null,this.buttons=null,this.success=null,this.zindex=null,this.modal=null},org.goorm.core.dialog.prototype={init:function(e,t){var n=this;this.title=e.title,this.path=e.path,this.width=e.width,this.height=e.height,this.modal=e.modal,this.zindex=parseInt(e.zindex),this.buttons=e.buttons,this.success=e.success,this.title=this.title.split(" ").join("_"),this.timestamp=(new Date).getTime(),t==undefined&&(t=!1),$("#goorm_dialog_container").find("#panelContainer_"+this.title)&&$("#goorm_dialog_container").find("#panelContainer_"+this.title).remove(),this.container_id="panelContainer_"+this.title+"_"+this.timestamp,$("#goorm_dialog_container").append("<div id='"+this.container_id+"'></div>"),this.panel=new YAHOO.widget.Dialog(this.container_id,{width:n.width+"px",height:n.height+"px",visible:!1,underlay:"none",close:!0,autofillheight:"body",draggable:!0,constraintoviewport:!0,modal:!1,zindex:n.zindex,fixedcenter:!0,effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:.2},buttons:this.buttons}),this.panel.setHeader(this.title.split("_").join(" ")),this.panel.setBody("Loading Data..."),this.panel.render(),$(document).bind("keydown","esc",function(){confirmation.panel==undefined&&(confirmation.panel={},confirmation.panel.cfg={},confirmation.panel.cfg.config={},confirmation.panel.cfg.config.visible={},confirmation.panel.cfg.config.visible.value=!1),n.buttons&&n.panel.cfg.config.visible.value&&!core.status.keydown&&!alert.panel.cfg.config.visible.value&&!notice.panel.cfg.config.visible.value&&!confirmation.panel.cfg.config.visible.value&&$(n.buttons).each(function(e){this.text=="Cancel"&&(this.hide=function(){},this.handler(),core.status.keydown=!0,n.panel.hide())})}),$(document).bind("keydown","return",function(e){confirmation.panel==undefined&&(confirmation.panel={},confirmation.panel.cfg={},confirmation.panel.cfg.config={},confirmation.panel.cfg.config.visible={},confirmation.panel.cfg.config.visible.value=!1),n.buttons&&n.panel.cfg.config.visible.value&&!core.status.keydown&&!alert.panel.cfg.config.visible.value&&!notice.panel.cfg.config.visible.value&&!confirmation.panel.cfg.config.visible.value&&$(n.buttons).each(function(e){this.isDefault&&(console.log("!"),this.hide=function(){},this.handler(),core.status.keydown=!0)})});var r="file/get_contents";return $.ajax({url:r,type:"GET",data:"path=public/"+n.path,success:function(e){n.panel.setBody(e),$.isFunction(n.success)&&n.success(),t||(core.dialog.loaded_count++,core.dialog.loaded_count==Object.keys(core.dialog).length-1,$(core).trigger("goorm_loading"))}}),this}};