/**
 * Copyright Sung-tae Ryu. All rights reserved.
 * Code licensed under the GPL v2 License:
 * http://www.goorm.org/License
 **/org.goorm.core.project.property.manager=function(){this.ini=null,this.treeview=null,this.tabview=null},org.goorm.core.project.property.manager.prototype={init:function(e){},add_treeview:function(e,t){$(t).find("project").length>0&&$(t).find("project").each(function(){$(this).find("item").each(function(){var t=new YAHOO.widget.TextNode($(this).attr("label"),e,!1)})})},create_treeview:function(e){if($(e).find("project").length>0){var t=new YAHOO.widget.TreeView("property_treeview");$(e).find("project").each(function(){$(this).find("root").each(function(){var e=new YAHOO.widget.TextNode($(this).attr("label"),t.getRoot(),$(this).attr("expanded"));$(this).find("item").each(function(){var t=new YAHOO.widget.TextNode($(this).attr("label"),e,!1)})})}),t.render(),this.treeview=t}},create_tabview:function(e){var t=this,n=null;$(e).find("project").each(function(){$(this).find("item").length>0&&$(this).find("item").each(function(){if($(this).find("tab").length>0){var e=$(this).attr("label");e="property_"+e.replace(/[/#. ]/g,""),$("#property_tabview").append("<div id='"+e+"' style='display:none'></div>"),n=new YAHOO.widget.TabView(e),$(this).find("tab").each(function(){if($(this).attr("src")){var e=$(this).attr("src"),t=$(this).attr("label"),r=$(this).attr("classname");$.ajax({type:"GET",dataType:"html",async:!1,url:e,success:function(e){var r=new YAHOO.widget.Tab({label:t,content:e});n.addTab(r)}})}}),n.set("activeIndex",0)}else{var t="";if($(this).attr("src")){var e=$(this).attr("label");e="property_"+e.replace(/[/#. ]/g,"");var r=$(this).attr("src");$.ajax({type:"GET",dataType:"html",url:r,success:function(n){t=n,$("#property_tabview").append("<div class='yui-content' id='"+e+"' style='display:none'>"+t+"</div>")}})}}}),$(this).find("root").each(function(){if($(this).attr("src")){var e=$(this).attr("src"),t=$(this).attr("label");t="property_"+t.replace(/[/#. ]/g,""),$.ajax({type:"GET",dataType:"html",url:e,success:function(e){$("#property_tabview").append("<div class='yui-content' id='"+t+"' style='display:none'>"+e+"</div>")}})}})})},xml_parser:function(e){var t=this;$.ajax({type:"GET",dataType:"xml",async:!1,url:e,success:function(e){return t.xml=e,this},error:function(e,t,n){alert.show(core.module.localization.msg.alertError+n)}})},unserialize:function(e){var t=function(e,t,n,r){throw new window[e](t,n,r)},n=function(e,n,r){var i=[],s=e.slice(n,n+1),o=2;while(s!=r)o+n>e.length&&t("Error","Invalid"),i.push(s),s=e.slice(n+(o-1),n+o),o+=1;return[i.length,i.join("")]},r=function(e,t,n){buf=[];for(var r=0;r<n;r++){var i=e.slice(t+(r-1),t+r);buf.push(i)}return[buf.length,buf.join("")]},i=function(e,s){s||(s=0);var o=[],u=e.slice(s,s+1).toLowerCase(),a=s+2,f=new Function("x","return x"),l=0,c=0;switch(u){case"i":f=new Function("x","return parseInt(x)");var h=n(e,a,";"),l=h[0],p=h[1];a+=l+1;break;case"b":f=new Function("x","return (parseInt(x) == 1)");var h=n(e,a,";"),l=h[0],p=h[1];a+=l+1;break;case"d":f=new Function("x","return parseFloat(x)");var h=n(e,a,";"),l=h[0],p=h[1];a+=l+1;break;case"n":p=null;break;case"s":var d=n(e,a,":"),l=d[0],v=d[1];a+=l+2;var h=r(e,a+1,parseInt(v)),l=h[0],p=h[1];a+=l+2,l!=parseInt(v)&&l!=p.length&&t("SyntaxError","String length mismatch");break;case"a":var p={},m=n(e,a,":"),l=m[0],g=m[1];a+=l+2;for(var y=0;y<parseInt(g);y++){var b=i(e,a),w=b[1],E=b[2];a+=w;var S=i(e,a),x=S[1],T=S[2];a+=x,p[E]=T}a+=1;break;default:t("SyntaxError","Unknown / Unhandled data type(s): "+u)}return[u,a-s,f(p)]};return i(e,0)[2]},plugin:function(e){this.plugin_name=null,this.xml=null,this.property={}},validate:function(e,t){var n=1;switch(t){case"required":$(e).val().match(/[^.*]/)||(alert.show($(e).attr("name")+core.module.localization.msg.alertValidateRequired),n=0);break;case"alpha":$(e).val().match(/^[a-z ._-]+$/i)||(alert.show($(e).attr("name")+core.module.localization.msg.alertValidateAlpha),n=0);break;case"alphanum":$(e).val().match(/^[a-z0-9 ._-]+$/i)||(alert.show($(e).attr("name")+core.module.localization.msg.alertValidateAlphaNum),n=0);break;case"digit":$(e).val().match(/^[-+]?[0-9]+$/)||(alert.show($(e).attr("name")+core.module.localization.msg.alertValidateDigit),n=0);break;case"nodigit":$(e).val().match(/^[^0-9]+$/)||(alert.show($(e).attr("name")+core.module.localization.msg.alertValidateNoDigit),n=0);break;case"number":$(e).val().match(/^[-+]?\d*\.?\d+$/)||(alert.show($(e).attr("name")+core.module.localization.msg.alertValidateNum),n=0);break;case"email":$(e).val().match(/^([a-zA-Z0-9_\.\-\+%])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)||(alert.show($(e).attr("name")+core.module.localization.msg.alertValidateEmail),n=0);break;case"url":$(e).val().match(/^(http|https|ftp)\:\/\/[a-z0-9\-\.]+\.[a-z]{2,3}(:[a-z0-9]*)?\/?([a-z0-9\-\._\?\,\'\/\\\+&amp;%\$#\=~])*$/i)||(alert.show($(e).attr("name")+core.module.localization.msg.alertValidateUrl),n=0)}return n}};