module.exports={workspaces:new Array,users:new Array,join:function(e,t){console.log(t.workspace),e.join(t.workspace),e.set("workspace",t.workspace);var n=0;(n=this.workspaces.inArray(t.workspace))>-1?this.users[n].list.push(t.user):(this.workspaces.push(t.workspace),this.users.push({workspace:t.workspace,list:[]}),this.users[this.users.length-1].list.push(t.user),n=this.users.length-1);var r={user:t.user,list:this.users[n].list};e.broadcast.to(t.workspace).emit("communication_someone_joined",JSON.stringify(r)),e.emit("communication_someone_joined",JSON.stringify(r))},leave:function(e,t){e.leave(t.workspace);var n=0;if((n=this.workspaces.inArray(t.workspace))>-1){var r=0;if((r=this.users[n].list.inArray(t.user))>-1){this.users[n].list.remove(r);var i={user:t.user,list:this.users[n].list};e.broadcast.to(t.workspace).emit("communication_someone_leaved",JSON.stringify(i))}}e.broadcast.to(t.workspace).emit("editing_someone_leaved",t.user)}};