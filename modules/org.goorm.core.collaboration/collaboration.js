var users=require("./collaboration.users.js"),workspace=require("./collaboration.workspace.js"),communication=require("./collaboration.communication.js"),editing=require("./collaboration.editing.js"),composing=require("./collaboration.composing.js"),drawing=require("./collaboration.drawing.js"),slideshare=require("./collaboration.slideshare.js");module.exports={start:function(e){var t=this;e.set("log level",0),e.sockets.on("connection",function(e){e.on("join",function(t){var n=JSON.parse(t),r="";n["channel"]!=undefined&&(r=n.channel),r=="workspace"&&workspace.join(e,n)}),e.on("message",function(t){var n=JSON.parse(t),r="";n["channel"]!=undefined&&(r=n.channel),r=="communication"?communication.msg(e,n):r=="editing"?editing.msg(e,n):r=="composing"?composing.msg(e,n):r=="drawing"?drawing.msg(e,n):r=="slideshare"&&slideshare.msg(e,n)}),e.on("leave",function(t){var n=JSON.parse(t),r="";n["channel"]!=undefined&&(r=n.channel),r=="workspace"&&workspace.leave(e,n)})}),e.sockets.on("close",function(e){})}};