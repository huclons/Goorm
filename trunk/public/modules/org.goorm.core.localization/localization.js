/**
 * Copyright Sung-tae Ryu. All rights reserved.
 * Code licensed under the GPL v2 License:
 * http://www.goorm.org/License
 **/org.goorm.core.localization=function(){this.language=null,this.data1=null,this.data2=null,this.data3=null,this.before_language=null,this.msg=null},org.goorm.core.localization.prototype={init:function(){var e=this,t=localStorage.getItem("language");t||(t="us"),$.getJSON("configs/languages/"+t+".msg.json",function(t){e.msg=t})},change_language:function(e){var t=this,n=!1;localStorage.getItem("language")==null&&core.server_language=="client"&&(n=!0),localStorage.setItem("language",e);var r="";e=="us"?r="English":e=="kor"&&(r="한국어"),$("#language_button-button").text(r),$.getJSON("configs/language/"+e+".menu.json",function(e){t.data1=e}),$.getJSON("configs/language/"+e+".dialog.json",function(e){t.data2=e}),$.getJSON("configs/language/"+e+".msg.json",function(r){t.msg=r,n&&e=="kor"&&(confirmation.init({title:core.module.localization.msg.confirmationLanguageTitle.value,message:core.module.localization.msg.confirmationLanguageMessage.value,yes_text:core.module.localization.msg.confirmationYes.value,no_text:core.module.localization.msg.confirmationNo.value,yes:function(){core.module.localization.change_language(e),core.module.localization.before_language=e},no:function(){core.module.localization.change_language("us"),core.module.localization.before_language="us"}}),confirmation.panel.show())})},apply:function(e){var t=this;e!=null&&$.each(e,function(e,n){var r=$("[localization_key='"+e+"']").find(".helptext").html();$("[localization_key='"+e+"']").html(this.value),r!=null&&$("[localization_key='"+e+"']").append("<em class='helptext'>"+r+"</em>"),this.children&&t.apply(this.children)})},apply_message:function(data){var self=this;data!=null&&$.each(data,function(key,value){eval('self.msg["'+key+'"]'+'="'+this.value+'";')})}};