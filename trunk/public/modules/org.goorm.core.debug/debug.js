/**
 * Copyright Sung-tae Ryu. All rights reserved.
 * Code licensed under the GPL v2 License:
 * http://www.goorm.org/License
 **/org.goorm.core.debug=function(){this.target="",this.layout=null,this.table_thread=null,this.table_variable=null},org.goorm.core.debug.prototype={init:function(){var e=this,t=new YAHOO.widget.TextboxCellEditor({disableBtns:!0}),n=function(e){var t=e.target;YAHOO.util.Dom.hasClass(t,"yui-dt-editable")&&this.highlightCell(t)};$(core).bind("layout_loaded",function(){var r=core.module.layout.inner_layout.getUnitByPosition("bottom").get("wrap");$("#debug").append("<div id='debug_left'>Left Layout</div>"),$("#debug").append("<div id='debug_center'>Center Layout</div>");var i=$(".yui-layout-unit-bottom").find(".yui-layout-wrap").height()-26,s=$(".yui-layout-unit-bottom").find(".yui-layout-wrap").width();$("#debug").height(i),e.layout=new YAHOO.widget.Layout("debug",{parent:core.module.layout.inner_layout,units:[{position:"left",width:250,height:i,body:"debug_left",resize:!0,gutter:"0px 0px 0px 0px",collapse:!1,minWidth:200,scroll:!0},{position:"center",height:i,body:"debug_center",resize:!0,scroll:!0}]}),e.layout.on("render",function(){$("#goorm_inner_layout_bottom").find(".yui-content").height(i),$("#debug_left").css("height",i),$("#debug_center").css("height",i),$("#debug_center").parent().css("width",s-250),$("#debug_center").parent().parent().css("width",s-250),$("#debug").find(".yui-layout-doc").width("100%"),e.table_thread=null,e.table_variable=null;var r=[{key:"no",label:"No",sortable:!1},{key:"thread",label:"Thread",sortable:!1}],o=new YAHOO.util.DataSource;o.responseSchema={resultNode:"property",fields:["no","thread"]},e.table_thread=new YAHOO.widget.DataTable("debug_left",r,o),e.table_thread.set("MSG_EMPTY","N/A"),e.table_thread.render();var u=[{key:"variable",label:"Variable",sortable:!1},{key:"value",label:"Value",sortable:!1,editor:t},{key:"summary",label:"Summary",sortable:!1}],a=new YAHOO.util.DataSource;a.responseSchema={resultNode:"property",fields:["variable","value","summary"]},e.table_variable=new YAHOO.widget.DataTable("debug_center",u,a),e.table_variable.set("MSG_EMPTY","N/A"),e.table_variable.render(),e.table_variable.subscribe("cellClickEvent",e.table_variable.onEventShowCellEditor),e.table_variable.subscribe("cellMouseoutEvent",e.table_variable.onEventUnhighlightCell),e.table_variable.subscribe("cellMouseoverEvent",n),e.table_variable.subscribe("editorShowEvent",e.editor_show),e.table_variable.subscribe("editorSaveEvent",e.variable_edit_complete)}),$(core).bind("layout_resized",function(){var t=$(".yui-layout-unit-bottom").find(".yui-layout-wrap").height()-26;$("#debug_left").css("height",t),$("#debug_center").css("height",t),$("#"+e.target).height(t)}),e.layout.render()})},editor_show:function(){$(".yui-dt-editor input").width($(".yui-dt-editor input").width()-13)},variable_edit_complete:function(e){var t=$(e.editor.getTdEl()).parent().find(".yui-dt-col-variable").find(".yui-dt-liner").html(),n=e.newData;console.log(t+": "+n),$(core.module.debug).trigger("value_changed",{variable:t,value:n}),this.variable_refresh()},variable_refresh:function(){var e=this,t=0}};