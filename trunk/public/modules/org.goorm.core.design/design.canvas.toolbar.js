/**
 * Copyright Sung-tae Ryu. All rights reserved.
 * Code licensed under the GPL v2 License:
 * http://www.goorm.org/License
 **/org.goorm.core.design.canvas.toolbar=function(){this.canvas=null,this.target=null,this.is_collaboration_on=!1,this.is_preview_on=!0,this.is_ruler_on=!0,this.is_grid_on=!0,this.zoom_level=100},org.goorm.core.design.canvas.toolbar.prototype={init:function(e){var t=this;this.canvas=e,this.target=e.target,$(this.target).parent().prepend("<div class='design_toolbar_container'></div>"),$(this.target).parent().append("<div class='design.preview_container'></div>"),$(this.target).parent().find(".design_toolbar_container").append("<img src='images/org.goorm.core.design/grid.png' action='gridOnOff' class='toolbar_button toolbar_buttonPressed' border='0' />"),$(this.target).parent().find(".design_toolbar_container").append("<img src='images/org.goorm.core.design/grid-snap.png' action='snap_to_grid' class='toolbar_button' border='0' />"),$(this.target).parent().find(".design_toolbar_container").append("<img src='images/org.goorm.core.design/resize.png' action='resize' class='toolbar_button' border='0' />"),$(this.target).parent().find(".design_toolbar_container").append("<img src='images/org.goorm.core.design/printer.png' class='toolbar_button' border='0' />"),$(this.target).parent().find(".design_toolbar_container").append("<img src='images/org.goorm.core.design/ruler_onoff.png' action='rulerOnOff' class='toolbar_button toolbar_buttonPressed' border='0' />"),$(this.target).parent().find(".design_toolbar_container").append("<img src='images/org.goorm.core.design/share.png' action='collaborationOnOff' class='toolbar_button' border='0' />"),$(this.target).parent().find(".design_toolbar_container").append("<img src='images/org.goorm.core.design/preview.png' action='previewOnOff' class='toolbar_button toolbar_buttonPressed' border='0' />"),$(this.target).parent().find(".design_toolbar_container").append("<img src='images/org.goorm.core.design/zoom-fit.png' action='zoomFit' class='toolbar_button' border='0' />"),$(this.target).parent().find(".design_toolbar_container").append("<img src='images/org.goorm.core.design/zoom-in.png' action='zoomIn' class='toolbar_button' border='0' />"),$(this.target).parent().find(".design_toolbar_container").append("<img src='images/org.goorm.core.design/zoom-out.png' action='zoomOut' class='toolbar_button' border='0' />"),$(this.target).parent().find(".design_toolbar_container").append("<div style='float:right; width:150px; text-align:right; padding-top:2px;'><select class='zoom_levelSelector'><option value='25'>25%</option><option value='50'>50%</option><option value='75'>75%</option><option value='100' selected=true>100%</option><option value='150'>150%</option><option value='200'>200%</option><option value='400'>400%</option><option value='800'>800%</option><option value='1600'>1600%</option></select></div>"),$(this.target).parent().find(".zoom_levelSelector").change(function(){t.zoom($(this).val())}),$(this.target).parent().find(".design_toolbar_container").find("img[action='gridOnOff']").click(function(){t.toggle_grid()}),$(this.target).parent().find(".design_toolbar_container").find("img[action='snap_to_grid']").click(function(){t.toggle_snap_to_grid()}),$(this.target).parent().find(".design_toolbar_container").find("img[action='resize']").click(function(){t.canvas.dialog.panel.show()}),$(this.target).parent().find(".design_toolbar_container").find("img[action='previewOnOff']").click(function(){t.toggle_preview()}),$(this.target).parent().find(".design_toolbar_container").find("img[action='rulerOnOff']").click(function(){t.toggle_ruler()}),$(this.target).parent().find(".design_toolbar_container").find("img[action='zoomFit']").click(function(){t.zoomFit()}),$(this.target).parent().find(".design_toolbar_container").find("img[action='zoomIn']").click(function(){t.zoomIn()}),$(this.target).parent().find(".design_toolbar_container").find("img[action='zoomOut']").click(function(){t.zoomOut()})},zoom:function(e){0<e&&e<1600&&(this.zoom_level=e),$(this.target).find(".space").css("zoom",this.zoom_level+"%"),$(this.target).find(".skin").css("zoom",this.zoom_level+"%"),$(this.target).find(".canvas").css("zoom",this.zoom_level+"%")},zoomFit:function(){this.zoom_level=100,$(this.target).find(".space").css("zoom","100%"),$(this.target).find(".skin").css("zoom","100%"),$(this.target).find(".canvas").css("zoom","100%")},zoomIn:function(){this.zoom_level<1600&&(this.zoom_level+=10),$(this.target).find(".space").css("zoom",this.zoom_level+"%"),$(this.target).find(".skin").css("zoom",this.zoom_level+"%"),$(this.target).find(".canvas").css("zoom",this.zoom_level+"%")},zoomOut:function(){this.zoom_level>=20&&(this.zoom_level-=10),$(this.target).find(".space").css("zoom",this.zoom_level+"%"),$(this.target).find(".skin").css("zoom",this.zoom_level+"%"),$(this.target).find(".canvas").css("zoom",this.zoom_level+"%")},toggle_preview:function(){var e=this;e.is_preview_on?(e.is_preview_on=!1,$(e.target).parent().find(".design_toolbar_container").find("img[action='previewOnOff']").removeClass("toolbar_buttonPressed"),$(e.target).parent().find(".design.preview_container").hide()):(e.is_preview_on=!0,$(e.target).parent().find(".design_toolbar_container").find("img[action='previewOnOff']").addClass("toolbar_buttonPressed"),$(e.target).parent().find(".design.preview_container").show())},toggle_ruler:function(){var e=this;e.is_ruler_on?(e.is_ruler_on=!1,$(e.target).parent().find(".design_toolbar_container").find("img[action='rulerOnOff']").removeClass("toolbar_buttonPressed"),e.canvas.parent.ruler.show(!1)):(e.is_ruler_on=!0,$(e.target).parent().find(".design_toolbar_container").find("img[action='rulerOnOff']").addClass("toolbar_buttonPressed"),e.canvas.parent.ruler.show(!0)),e.canvas.parent.resize_all()},toggle_snap_to_grid:function(){var e=this;e.canvas.snap_to_grid?(e.canvas.snap_to_grid=!1,$(e.target).parent().find(".design_toolbar_container").find("img[action='snap_to_grid']").removeClass("toolbar_buttonPressed")):(e.canvas.snap_to_grid=!0,$(e.target).parent().find(".design_toolbar_container").find("img[action='snap_to_grid']").addClass("toolbar_buttonPressed"))},toggle_grid:function(){var e=this;e.is_grid_on?(e.is_grid_on=!1,$(e.target).find(".grid").hide(),$(e.target).find(".design_toolbar_container").find("img[action='gridOnOff']").removeClass("toolbar_buttonPressed")):(e.is_grid_on=!0,$(e.target).find(".grid").show(),$(e.target).find(".design_toolbar_container").find("img[action='gridOnOff']").addClass("toolbar_buttonPressed"))},change_grid_unit:function(e){var t=this;$(t.target).find(".grid").css("background-image","url(images/org.goorm.core.design/grid_"+e+"px.png)")},change_grid_opacity:function(e){var t=this;$(t.target).find(".grid").css("-moz-opacity",e),$(t.target).find(".grid").css("filter","alpha(opacity="+e*100+")"),$(t.target).find(".grid").css("opacity",e)},change_ruler_unit:function(e){var t=this;$(t.target).parent().find(".ruler_x").css("background-image","url(images/org.goorm.core.design/ruler_"+e+"_x.png)"),$(t.target).parent().find(".ruler_y").css("background-image","url(images/org.goorm.core.design/ruler_"+e+"_y.png)")}};