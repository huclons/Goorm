/**
 * Copyright Sung-tae Ryu. All rights reserved.
 * Code licensed under the GPL v2 License:
 * http://www.goorm.org/License
 **/org.goorm.core.collaboration.slideshare=function(){this.socket=null,this.current_slide_name=null},org.goorm.core.collaboration.slideshare.prototype={init:function(){this.socket=io.connect();var e=this;this.socket.socket.connected,this.socket.on("slideshare_message",function(t){t.slide_url!=e.current_slide_name&&(window.slideshare.loadPlayer(t.slide_url,t.page),e.current_slide_name=t.slide_url),window.slideshare.player&&window.slideshare.player.jumpTo&&window.slideshare.player.jumpTo(t.page)}),$("#slide_prev").click(function(){window.slideshare.player.previous(),e.socket.emit("message",'{"channel": "slideshare", "slide_url":"'+e.current_slide_name+'", "page":'+window.slideshare.player.getCurrentSlide()+"}")}),$("#slide_next").click(function(){window.slideshare.player.next(),e.socket.emit("message",'{"channel": "slideshare", "slide_url":"'+e.current_slide_name+'", "page":'+window.slideshare.player.getCurrentSlide()+"}")}),$("#slideshare_presentation").click(function(){var t=$("#slide_url").val();t!=""&&e.load_slide(t)})},load_slide:function(e){var t=this;$.ajax({url:"http://www.slideshare.net/api/oembed/2",data:{url:e,format:"json"},dataType:"jsonp",success:function(e){var n=e.slide_image_baseurl.match(/.com\/([^/]*)\//);window.slideshare.loadPlayer(n[1]),t.current_slide_name=n[1],t.socket.emit("message",'{"channel":"slideshare", "slide_url":"'+n[1]+'", "page":1}')}})}};