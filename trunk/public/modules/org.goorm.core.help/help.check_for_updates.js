/**
 * Copyright Sung-tae Ryu. All rights reserved.
 * Code licensed under the GPL v2 License:
 * http://www.goorm.org/License
 **/org.goorm.core.help.check_for_updates=function(){this.dialog=null,this.buttons=null,this.current_version=null,this.official_version=null,this.official_url=null},org.goorm.core.help.check_for_updates.prototype={init:function(){var e=this,t=function(){this.hide()};this.buttons=[{text:"OK",handler:t}],this.dialog=new org.goorm.core.help.check_for_updates.dialog,this.dialog.init({title:"Checking updates",path:"configs/dialogs/org.goorm.core.help/help.check_for_updates.html",width:500,height:300,modal:!0,yes_text:"OK",no_text:"Close",buttons:this.buttons,success:function(){}}),this.dialog=this.dialog.dialog},show:function(){this.dialog.panel.show(),this.check_update()},check_update:function(){var e=this,t="file/get_contents",n="http://skima.skku.edu/~moyara/goorm.xml",r=0;$("#div_check_for_update").html(""),core.module.loading_bar.start("Loading updates..."),$(this).bind("cursorLoadingComplete",function(){core.module.loading_bar.stop()}),$.ajax({url:t,type:"GET",data:"path="+n,success:function(t){var n=$.parseXML(t);e.official_version=$(n).find("version").text(),e.official_url=$(n).find("url").text(),$.ajax({type:"POST",dataType:"xml",url:"configs/goorm.xml",success:function(t){e.current_version=$(t).find("version").text(),$("#div_check_for_update").append("&lt;goorm&gt; Current Version : "+e.current_version+" / "+"Official Version : <span style='color:red;'>"+e.official_version+"</span><br>"),e.current_version!=e.official_version&&$("#div_check_for_update").append("Update : <a href="+e.official_url+">"+e.official_url+"<br>");var n=0;for(var r in core.dialog.preference.plugin)n++;for(var i in core.dialog.preference.plugin)var s=core.dialog.preference.plugin[i]},error:function(e,t,n){alert.show(core.module.localization.msg.alertError+n)}})},error:function(e,t,n){alert.show(core.module.localization.msg.alertError+n)}})}};