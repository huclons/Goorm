/**
 * Copyright Sung-tae Ryu. All rights reserved.
 * Code licensed under the GPL v2 License:
 * http://www.goorm.org/License
 **/org.goorm.core.printer=function(){this.dialog=null,this.buttons=null,this.tabview=null,this.treeview=null},org.goorm.core.printer.prototype={init:function(){var e=this,t=function(){var t=window.open("","","width=1000, height=700, scrollbars=yes");t.document.write("<div id='print_contents'></div>"),e.set_contents(t),t.focus(),this.hide()},n=function(){this.hide()};this.buttons=[{text:"Print",handler:t,isDefault:!0},{text:"Cancel",handler:n}],this.dialog=new org.goorm.core.printer.dialog,this.dialog.init({title:"Print",path:"configs/dialogs/org.goorm.core.printer/printer.html",width:620,height:450,modal:!0,buttons:this.buttons,success:function(){}}),this.dialog=this.dialog.dialog},show:function(){this.set_preview_contents($("#print_preview")),this.dialog.panel.show()},set_contents:function(e){var t=core.module.layout.workspace.window_manager;if(!t.window[t.active_window].editor&&t.window[t.active_window].designer){var n=new org.goorm.core.printer.design;n.init($(e.document).find("#print_contents"),t.window[t.active_window].designer.canvas.width,t.window[t.active_window].designer.canvas.height,1,t.window[t.active_window].designer.canvas),n.draw(),e.print()}},set_preview_contents:function(e){var t=core.module.layout.workspace.window_manager;if(!t.window[t.active_window].editor&&t.window[t.active_window].designer){var n=new org.goorm.core.printer.design.preview;n.init($(e).find("#print_contents"),t.window[t.active_window].designer.canvas.width,t.window[t.active_window].designer.canvas.height,150/t.window[t.active_window].designer.canvas.width,t.window[t.active_window].designer.canvas),n.draw()}}};