/**
 * Copyright Sung-tae Ryu. All rights reserved.
 * Code licensed under the GPL v2 License:
 * http://www.goorm.org/License
 **/org.goorm.core.file.save_as=function(){this.dialog=null,this.buttons=null,this.tabview=null,this.dialog_explorer=null,this.is_save_anyway=!1,this.contents_data=null},org.goorm.core.file.save_as.prototype={init:function(){var e=this,t=function(){var n=e.dialog_explorer.get_data();if(n.path==""||n.name=="")return alert.show("File Name is Empty."),!1;var r={save_anyway:e.is_save_anyway,path:n.path+"/"+n.name,type:n.type,data:e.contents_data};$.get("file/save_as",r,function(n){n.err_code==99?(confirmation.init({title:"Confirmation",message:"Exist file. Do you want to save anyway?",yes_text:"yes",no_text:"no",yes:function(){e.is_save_anyway=!0,t()},no:function(){}}),confirmation.panel.show()):n.err_code==0?(e.dialog.panel.hide(),core.module.layout.project_explorer.refresh()):alert.show(n.message)})},n=function(){this.hide()};this.buttons=[{text:"Save",handler:t,isDefault:!0},{text:"Cancel",handler:n}],this.dialog=new org.goorm.core.file.save_as.dialog,this.dialog.init({title:"Save as",path:"configs/dialogs/org.goorm.core.file/file.save_as.html",width:800,height:500,modal:!0,buttons:this.buttons,success:function(){var e=new YAHOO.util.Resize("save_as_dialog_left",{handles:["r"],minWidth:200,maxWidth:400});e.on("resize",function(e){var t=$("#save_as_dialog_middle").width(),n=e.width;$("#save_as_dialog_center").css("width",t-n-9+"px")})}}),this.dialog=this.dialog.dialog,this.dialog_explorer=new org.goorm.core.dialog.explorer},show:function(){var e=this;e.contents_data="",e.is_save_anyway=!1;var t=core.module.layout.workspace.window_manager;t.active_window<0?alert.show("file not opened"):t.window[t.active_window].designer!=undefined?e.contents_data=t.window[t.active_window].designer.get_contents():t.window[t.active_window].editor!=undefined&&(e.contents_data=t.window[t.active_window].editor.get_contents()),e.dialog_explorer.init("#file_save_as",!1),e.dialog.panel.show()}};